<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Target Name="Trove">
    <ConvertToAbsolutePath Paths="..\..\trove\trunk\lib\trove\Framework\$(TargetFrameworkVersion)">
        <Output TaskParameter="AbsolutePaths" PropertyName="TroveLibDirectory"/>
    </ConvertToAbsolutePath>
    <ConvertToAbsolutePath Paths="..\..\trove\trunk\msi\Cavity">
        <Output TaskParameter="AbsolutePaths" PropertyName="TroveMsiDirectory"/>
    </ConvertToAbsolutePath>
    <Copy Condition=" Exists('$(TroveLibDirectory)') "
          SourceFiles="$(ClassLibrariesPath)\Build.Tasks\bin\$(BuildName)\Cavity.Build.Tasks.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') "
          SourceFiles="$(ClassLibrariesPath)\Build.Tasks\bin\$(BuildName)\Cavity.Build.Tasks.Targets"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') "
          SourceFiles="$(ClassLibrariesPath)\Core\bin\$(BuildName)\Cavity.Core.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\Data.FileSystem\bin\$(BuildName)\Cavity.Data.FileSystem.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') "
          SourceFiles="$(ClassLibrariesPath)\Domain\bin\$(BuildName)\Cavity.Domain.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') "
          SourceFiles="$(ClassLibrariesPath)\ServiceLocation\bin\$(BuildName)\Cavity.ServiceLocation.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\ServiceLocation.Autofac\bin\$(BuildName)\Cavity.ServiceLocation.Autofac.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\ServiceLocation.CastleWindsor\bin\$(BuildName)\Cavity.ServiceLocation.CastleWindsor.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\ServiceLocation.StructureMap\bin\$(BuildName)\Cavity.ServiceLocation.StructureMap.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\ServiceLocation.Unity\bin\$(BuildName)\Cavity.ServiceLocation.Unity.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
    <Copy Condition=" Exists('$(TroveLibDirectory)') and '$(TargetFrameworkVersion)' != 'v2.0' "
          SourceFiles="$(ClassLibrariesPath)\Testing.Unit\bin\$(BuildName)\Cavity.Testing.Unit.dll"
          DestinationFolder="$(TroveLibDirectory)"
          OverwriteReadOnlyFiles="true" />
  </Target>
</Project>